<!DOCTYPE html><html lang="en" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.1.1" /><meta property="og:title" content="PLSQL에서 예외처리(exception)하기" /><meta name="author" content="KEJdev" /><meta property="og:locale" content="en_US" /><meta name="description" content="예외처리는 모든 프로그래밍에서 사용되며, PLSQL도 여김 없이 예외처리가 있습니다. 예외처리가 무엇인지와 종류에 대해서 이야기 해보겠습니다." /><meta property="og:description" content="예외처리는 모든 프로그래밍에서 사용되며, PLSQL도 여김 없이 예외처리가 있습니다. 예외처리가 무엇인지와 종류에 대해서 이야기 해보겠습니다." /><link rel="canonical" href="https://kejdev.github.io/posts/plsql-exception/" /><meta property="og:url" content="https://kejdev.github.io/posts/plsql-exception/" /><meta property="og:site_name" content="🍗 양념치킨 🍗" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-03-20T15:00:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="PLSQL에서 예외처리(exception)하기" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"KEJdev"},"dateModified":"2022-08-02T23:27:54+08:00","datePublished":"2020-03-20T15:00:00+08:00","description":"예외처리는 모든 프로그래밍에서 사용되며, PLSQL도 여김 없이 예외처리가 있습니다. 예외처리가 무엇인지와 종류에 대해서 이야기 해보겠습니다.","headline":"PLSQL에서 예외처리(exception)하기","mainEntityOfPage":{"@type":"WebPage","@id":"https://kejdev.github.io/posts/plsql-exception/"},"url":"https://kejdev.github.io/posts/plsql-exception/"}</script><title>PLSQL에서 예외처리(exception)하기 | 🍗 양념치킨 🍗</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/favicon.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-148043528-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-148043528-1'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" style="width:190px" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div style="display:flex"><div id="avatar" style="margin:0 auto 0 auto;"> <a href="/" alt="avatar" class="mx-auto"> <img style="max-width:100%;" src="/assets/img/favicons/mycat.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div></div><div style="display:flex"><div style="margin:0 auto 0 auto; font-weight:550px;" > <a href="/">🍗 양념치킨 🍗</a></div></div><div style="display:flex"><div class="site-subtitle font-italic" style="margin:0 auto 0 auto;">고양이 좋아하는 개발자</div></div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <span>HOME</span> </a><li class="nav-item"> <a href="/tabs/categories/" class="nav-link"> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tabs/archives/" class="nav-link"> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/tabs/about/" class="nav-link"> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post-content" style="margin-top:70px;"><h1 data-toc-skip>PLSQL에서 예외처리(exception)하기</h1><div class="post-meta text-muted d-flex flex-column" style="border-bottom:1px solid black;" ><div > <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Fri, Mar 20, 2020, 3:00 PM +0800" > Mar 20, 2020 <i class="unloaded">2020-03-20T15:00:00+08:00</i> </span> by <span class="author"> KEJdev </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Wed, Aug 3, 2022, 12:27 AM +0900" > Aug 3 <i class="unloaded">2022-08-02T23:27:54+08:00</i> </span> </span></div></div><div class="post-content"><p>예외처리는 모든 프로그래밍에서 사용되며, PLSQL도 여김 없이 예외처리가 있습니다. 예외처리가 무엇인지와 종류에 대해서 이야기 해보겠습니다.</p><h2 id="예외exception">예외(exception)</h2><p>PLSQL에서 예외는 오라클에서 에러나 갔을 때, 엔드유저(프로그램 사용자)의 눈높이를 맞추기 위해 사용하는 문법입니다.</p><p>예를 들어 홈플러스 계산원이 컴퓨터 프로그램 화면에 고객 번호를 입력하고 해당 고객 정보를 보려고 하는데, 오라클 에러 메시지가 화면에 <strong>ORA-0001 Data not found ….</strong> 이런식으로 나온다면 사용자는 알아보기 힘드니, <strong>해당 고객은 존재하지 않습니다</strong>등의 문구를 띄웁니다.</p><p>이 경우 외에도 비정상적으로 프로그램이 종료되지 않기 위해서 사용되는데, data가 잘못되어서 프로그램이 종료되버리는 현상을 막기 위해 프로그램이 종료되는게 아니라 정상적으로 처리가 되고 data가 잘못되어서 발생하는 에러 메세지만 따로 출력해주겠금 하려고 예외를 사용합니다.</p><h2 id="예외exception의-종류-3가지">예외(exception)의 종류 3가지</h2><p>예외처리는 총 3가지 종류로 나눌 수 있습니다.</p><p><strong>1. 오라클에서 미리 정의한 예외처리</strong><br /> 예를 들면 no data found , too many rows 같은 일반적인 예외에 대한 예외처리가 있습니다.</p><p><strong>2. 오라클에서 미리 정의하지 않는 예외처리</strong><br /> 오라클에서 미리 정의 하지 않는 예외를 따로 예외처리하는 방법이 있습니다.</p><p><strong>3. 사용자 정의 예외처리</strong><br /> 오라클에서 미리 정의한 예외나 오라클에서 미리 정의하지 않는 예외는 둘다 오라클 에러 메세지가 출력될 때, 발생하는 예외인데, 그에 반해 사용자 정의 예외는 오라클에서 에러가 발생하지 않았지만 이것은 예외다 라고 사용자가 정의하는 것을 말합니다.</p><p>사원번호를 물어봤는데, 만약 없는 사원번호를 입력할 경우 아래와 같이 쓸 수 있습니다. 아래의 오류는 프로그램 문법상의 오류가 아니라 data가 없어서 발생하는 오류이므로 예외처리를 해줘야 합니다.</p><div class="language-sql highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="n">accept</span> <span class="n">p_empno</span> <span class="n">prompt</span> <span class="s1">' 사원번호?  : '</span>
<span class="k">declare</span>
	<span class="n">v_empno</span> <span class="n">emp</span><span class="p">.</span><span class="n">empno</span><span class="o">%</span><span class="k">type</span> <span class="p">:</span><span class="o">=</span> <span class="o">&amp;</span><span class="n">p_empno</span><span class="p">;</span>
	<span class="n">v_sal</span>  <span class="n">emp</span><span class="p">.</span><span class="n">sal</span><span class="o">%</span><span class="k">type</span><span class="p">;</span>
<span class="k">begin</span>
	<span class="k">select</span> <span class="n">sal</span> <span class="k">into</span> <span class="n">v_sal</span>
		<span class="k">from</span> <span class="n">emp</span>
		<span class="k">where</span> <span class="n">empno</span> <span class="o">=</span> <span class="n">v_empno</span><span class="p">;</span>
	<span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="n">v_sal</span><span class="p">);</span>
	
	<span class="n">exception</span>    <span class="c1">------ 예외처리</span>
		<span class="k">when</span> <span class="n">no_data_found</span> <span class="k">then</span>
			<span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">'없는 사원입니다.'</span><span class="p">);</span>
<span class="k">end</span><span class="p">;</span>
<span class="o">/</span>
</pre></table></code></div></div><p>중복으로 예외처리를 걸 경우 아래와 같이 쓸 수 있습니다.</p><div class="language-sql highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="n">accept</span> <span class="n">p_empno</span> <span class="n">prompt</span> <span class="s1">' 사원번호?  : '</span>
<span class="k">declare</span>
    <span class="n">v_empno</span> <span class="n">emp</span><span class="p">.</span><span class="n">empno</span><span class="o">%</span><span class="k">type</span> <span class="p">:</span><span class="o">=</span> <span class="o">&amp;</span><span class="n">p_empno</span><span class="p">;</span>
    <span class="n">v_sal</span>  <span class="n">emp</span><span class="p">.</span><span class="n">sal</span><span class="o">%</span><span class="k">type</span><span class="p">;</span>
<span class="k">begin</span>
    <span class="k">select</span> <span class="n">sal</span> <span class="k">into</span> <span class="n">v_sal</span>
        <span class="k">from</span> <span class="n">emp</span>
        <span class="k">where</span> <span class="n">empno</span> <span class="o">=</span> <span class="n">v_empno</span><span class="p">;</span>
    <span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="n">v_sal</span><span class="p">);</span>
    
    <span class="n">exception</span>
        <span class="k">when</span> <span class="n">no_data_found</span> <span class="k">then</span>   <span class="c1">------ 예외처리 1</span>
            <span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">'없는 사원입니다.'</span><span class="p">);</span>
        <span class="k">when</span> <span class="n">too_many_rows</span> <span class="k">then</span>   <span class="c1">------ 예외처리 2</span>
            <span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">'이 사원의 경우는 데이터가 많습니다.'</span><span class="p">);</span>
<span class="k">end</span><span class="p">;</span>
<span class="o">/</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/db/'>DB</a>, <a href='/categories/plsql/'>PLSQL</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=PLSQL에서 예외처리(exception)하기 - 🍗 양념치킨 🍗&url=https://kejdev.github.io/posts/plsql-exception/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=PLSQL에서 예외처리(exception)하기 - 🍗 양념치킨 🍗&u=https://kejdev.github.io/posts/plsql-exception/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=PLSQL에서 예외처리(exception)하기 - 🍗 양념치킨 🍗&url=https://kejdev.github.io/posts/plsql-exception/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://kejdev.github.io/posts/plsql-exception/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8" style="margin:0 auto; margin-top:25px; max-width: 850px; padding:0px 30px"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div class="post-navigation d-flex justify-content-between"> <a href="/posts/plsql-cursor/" class="btn btn-outline-primary" prompt="Older"><p>PLSQL에서 커서(cursor)가 필요한 이유.(메모리에 데이터 올리기)</p></a> <a href="/posts/python-reinforcement/" class="btn btn-outline-primary" prompt="Newer"><p>강화학습에서의 몬테카를로 알고리즘이란?</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://www.instagram.com/ao_ej125">kejdev</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script> <script> $(function() { let initTheme = "default"; if ($("html[mode=dark]").length > 0 || ($("html[mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Markdown converts to HTML */ $("pre").has("code.language-mermaid").each(function() { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<div class=\"mermaid\">${svgCode}</div>`); }); mermaid.initialize(mermaidConf); }); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://kejdev.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
